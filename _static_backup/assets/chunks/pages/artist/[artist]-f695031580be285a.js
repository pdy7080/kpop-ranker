(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[276],{4589:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/artist/[artist]",function(){return a(313)}])},6431:function(e,t,a){"use strict";var r=a(5893),s=a(7294),l=a(5675),i=a.n(l),o=a(5154);t.Z=e=>{let{src:t,alt:a,width:l,height:n,className:c="",fill:d=!1,artistName:x="",trackName:u="",priority:m=!1,unoptimized:p=!0}=e,[h,b]=(0,s.useState)(""),[g,j]=(0,s.useState)(0),[f,v]=(0,s.useState)(!0),y=()=>{let e=[];if(t&&t.includes("/artist/"))console.log("❌ 잘못된 src 감지, API URL로 대체:",t);else if(t&&t.includes("/api/album-image-v2/"))e.push(t);else if(t&&t.includes("/api/album-image/")){let a=t.replace("/api/album-image/","/api/album-image-v2/");console.log("\uD83D\uDD04 기존 API를 v2로 변경:",t,"→",a),e.push(a)}if(x&&u&&e.push(o.mb.albumImage(x,u)),x&&e.push(o.mb.albumImage(x)),x){let t=x.charAt(0).toUpperCase();e.push(o.mb.defaultImage({뉴:"N",아:"A",블:"B",에:"A",세:"S",데:"D",레:"L",트:"T",아이:"I"}[t]||t))}return e.push(o.mb.defaultImage("default")),e};if((0,s.useEffect)(()=>{let e=y();e.length>0&&(b(e[0]),j(0),v(!0))},[x,u,t]),!f&&g>=y().length)return(0,r.jsx)("div",{className:"bg-gray-200 flex items-center justify-center ".concat(c),style:{width:l,height:n},children:(0,r.jsx)("div",{className:"text-gray-500 text-xl font-bold",children:x?x.charAt(0).toUpperCase():"?"})});let N={src:h,alt:a||"".concat(x).concat(u?" - ".concat(u):""," 앨범 이미지"),className:c,onError:()=>{let e=y(),a=g+1;a<e.length?(j(a),b(e[a]),console.log("이미지 폴백 ".concat(a+1,"/").concat(e.length,": ").concat(e[a]))):(console.warn("모든 이미지 폴백 실패:",{artistName:x,trackName:u,originalSrc:t}),v(!1))},onLoad:()=>{v(!1)},priority:m,unoptimized:!0,style:{objectFit:"cover"}};return d?(0,r.jsx)(i(),{...N,fill:!0}):(0,r.jsx)(i(),{...N,width:l||64,height:n||64})}},5154:function(e,t,a){"use strict";a.d(t,{mb:function(){return s}});let r={BASE_URL:"https://api.kpopranker.chargeapp.net",IS_DEVELOPMENT:!1},s={albumImage:(e,t)=>{let a=encodeURIComponent(e);if(t){let e=encodeURIComponent(t);return"".concat(r.BASE_URL,"/api/album-image-v2/").concat(a,"/").concat(e)}return"".concat(r.BASE_URL,"/api/album-image-v2/").concat(a)},staticFile:e=>{let t=e.startsWith("/static/")?e:"/static/".concat(e);return"".concat(r.BASE_URL).concat(t)},defaultImage:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return"".concat(r.BASE_URL,"/static/default_images/").concat(e,".jpg")},search:e=>"".concat(r.BASE_URL,"/api/search?q=").concat(encodeURIComponent(e)),trending:()=>"".concat(r.BASE_URL,"/api/trending"),portfolio:()=>"".concat(r.BASE_URL,"/api/portfolio"),artistDetail:e=>"".concat(r.BASE_URL,"/api/artist/").concat(encodeURIComponent(e),"/complete")};r.IS_DEVELOPMENT&&console.log("\uD83D\uDD27 API Configuration:",{BASE_URL:r.BASE_URL,NODE_ENV:"production",NEXT_PUBLIC_API_URL:"https://api.kpopranker.chargeapp.net"})},313:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var r=a(5893),s=a(7294),l=a(1163),i=a(9008),o=a.n(i),n=a(3161),c=a(6431),d=a(3495),x=a(1526),u=a(2914),m=a(5154);let p={melon:{name:"Melon",icon:"\uD83C\uDF48",emoji:"\uD83D\uDD25",color:"#00CD3C",bgColor:"bg-green-500/20",borderColor:"border-green-400/50",description:"국내 최대"},genie:{name:"Genie",icon:"\uD83E\uDDDE",emoji:"\uD83D\uDE80",color:"#1E40AF",bgColor:"bg-blue-500/20",borderColor:"border-blue-400/50",description:"실시간 빠름"},bugs:{name:"Bugs",icon:"\uD83D\uDC1B",emoji:"\uD83D\uDCCA",color:"#F97316",bgColor:"bg-orange-500/20",borderColor:"border-orange-400/50",description:"다운로드 강세"},vibe:{name:"Vibe",icon:"\uD83C\uDFB5",emoji:"\uD83C\uDFB6",color:"#8B5CF6",bgColor:"bg-purple-500/20",borderColor:"border-purple-400/50",description:"네이버 생태계"},spotify:{name:"Spotify",icon:"\uD83C\uDFA7",emoji:"\uD83C\uDF0D",color:"#1DB954",bgColor:"bg-green-600/20",borderColor:"border-green-500/50",description:"글로벌 1위"},billboard:{name:"Billboard",icon:"\uD83C\uDFC6",emoji:"\uD83C\uDDFA\uD83C\uDDF8",color:"#F59E0B",bgColor:"bg-yellow-500/20",borderColor:"border-yellow-400/50",description:"미국 공식"},youtube:{name:"YouTube",icon:"▶️",emoji:"❤️",color:"#FF0000",bgColor:"bg-red-500/20",borderColor:"border-red-400/50",description:"조회수"}};function h(){let e=(0,l.useRouter)(),{artist:t}=e.query,a=Array.isArray(t)?t[0]:t||"",[i,c]=(0,s.useState)(null),[d,x]=(0,s.useState)(!0),[u,p]=(0,s.useState)(null),[h,g]=(0,s.useState)(null);(0,s.useEffect)(()=>{a&&f()},[a]);let f=async()=>{try{x(!0),p(null);let e=await fetch(m.mb.artistDetail(a));if(!e.ok)throw Error("아티스트 정보를 찾을 수 없습니다: ".concat(e.status));let t=await e.json();if(t.success)c(t),t.tracks.length>0&&g(t.tracks[0].name);else throw Error("아티스트 데이터를 불러올 수 없습니다")}catch(e){console.error("아티스트 데이터 로드 오류:",e),p(e.message)}finally{x(!1)}};return d?(0,r.jsx)(n.Z,{children:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-900 via-indigo-900 to-blue-900",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"relative w-32 h-32 mx-auto mb-8",children:[(0,r.jsx)("div",{className:"absolute inset-0 rounded-full border-4 border-purple-300 border-t-transparent animate-spin"}),(0,r.jsx)("div",{className:"absolute inset-4 rounded-full border-4 border-pink-300 border-b-transparent animate-spin",style:{animationDirection:"reverse"}})]}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"아티스트 정보를 불러오는 중..."}),(0,r.jsx)("p",{className:"text-purple-300",children:"잠시만 기다려주세요"})]})})}):u||!i?(0,r.jsx)(n.Z,{children:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-900 via-indigo-900 to-blue-900",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-6xl mb-8",children:"\uD83D\uDE22"}),(0,r.jsx)("h1",{className:"text-4xl font-bold text-red-400 mb-4",children:"아티스트를 찾을 수 없어요"}),(0,r.jsx)("p",{className:"text-xl text-gray-300 mb-8",children:u||"알 수 없는 오류가 발생했습니다"}),(0,r.jsxs)("div",{className:"space-x-4",children:[(0,r.jsx)("button",{onClick:()=>e.push("/"),className:"px-8 py-4 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition-all duration-300 transform hover:scale-105 font-semibold",children:"홈으로 가기"}),(0,r.jsx)("button",{onClick:()=>e.back(),className:"px-8 py-4 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300 transform hover:scale-105 font-semibold",children:"돌아가기"})]})]})})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o(),{children:[(0,r.jsxs)("title",{children:[i.artist," - KPOP Ranker"]}),(0,r.jsx)("meta",{name:"description",content:"".concat(i.artist,"의 전체 차트 순위와 트렌드를 확인하세요")}),(0,r.jsx)("meta",{property:"og:title",content:"".concat(i.artist," - KPOP Ranker")}),(0,r.jsx)("meta",{property:"og:description",content:"".concat(i.artist,"의 7개 차트 순위 실시간 모니터링")})]}),(0,r.jsx)(n.Z,{children:(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-indigo-900 to-blue-900",children:[(0,r.jsx)(b,{artistData:i}),(0,r.jsx)(j,{insights:i.fandom_insights}),(0,r.jsx)(v,{tracks:i.tracks,artistName:i.artist,selectedTrack:h,onTrackSelect:g})]})})]})}let b=e=>{var t;let{artistData:a}=e,s=(t=a.stats.global_popularity_score)>=80?{level:"글로벌 스타",color:"text-yellow-300",emoji:"\uD83C\uDF1F"}:t>=60?{level:"인기 아티스트",color:"text-green-300",emoji:"\uD83D\uDD25"}:t>=40?{level:"떠오르는 스타",color:"text-blue-300",emoji:"\uD83D\uDCC8"}:{level:"성장 중",color:"text-purple-300",emoji:"\uD83D\uDCAB"};return(0,r.jsxs)(d.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"relative overflow-hidden py-20",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/30 to-pink-600/30"}),(0,r.jsxs)("div",{className:"relative max-w-7xl mx-auto px-4 text-center",children:[(0,r.jsx)(d.E.h1,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"text-5xl md:text-7xl lg:text-8xl font-bold text-white mb-4 bg-gradient-to-r from-purple-400 via-pink-400 to-purple-300 bg-clip-text text-transparent",children:a.artist}),a.variations.length>1&&(0,r.jsxs)(d.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mb-8",children:[(0,r.jsx)("p",{className:"text-purple-200 text-lg mb-2",children:"다른 이름으로도 불려요"}),(0,r.jsx)("div",{className:"flex flex-wrap justify-center gap-2",children:a.variations.filter(e=>e!==a.artist).map((e,t)=>(0,r.jsx)("span",{className:"px-3 py-1 bg-white/10 backdrop-blur rounded-full text-purple-200 text-sm",children:e},t))})]}),(0,r.jsx)(d.E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.6,type:"spring"},className:"mb-8",children:(0,r.jsxs)("div",{className:"inline-flex items-center px-6 py-3 bg-white/20 backdrop-blur rounded-full",children:[(0,r.jsx)("span",{className:"text-2xl mr-2",children:s.emoji}),(0,r.jsx)("span",{className:"font-bold text-xl ".concat(s.color),children:s.level}),(0,r.jsxs)("span",{className:"text-white ml-2",children:["(",a.stats.global_popularity_score,"점)"]})]})}),(0,r.jsxs)(d.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto mb-8",children:[(0,r.jsx)(g,{icon:(0,r.jsx)(u.gmG,{}),value:a.stats.total_tracks,label:"차트 진입 곡",color:"text-green-400"}),(0,r.jsx)(g,{icon:(0,r.jsx)(u.yyP,{}),value:a.stats.best_overall_rank?"#".concat(a.stats.best_overall_rank):"N/A",label:"최고 순위",color:"text-yellow-400"}),(0,r.jsx)(g,{icon:(0,r.jsx)(u.NcA,{}),value:a.stats.chart_diversity,label:"차트 진입 수",color:"text-red-400"}),(0,r.jsx)(g,{icon:(0,r.jsx)(u.$0H,{}),value:"".concat(a.stats.global_popularity_score,"점"),label:"글로벌 점수",color:"text-purple-400"})]}),(0,r.jsxs)(d.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"text-purple-200 text-sm",children:["마지막 업데이트: ",new Date(a.last_updated).toLocaleString("ko-KR")]})]})]})},g=e=>{let{icon:t,value:a,label:s,color:l}=e;return(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur rounded-2xl p-6 text-center hover:bg-white/15 transition-all duration-300 group hover:scale-105",children:[(0,r.jsx)("div",{className:"text-3xl mb-2 ".concat(l," group-hover:scale-110 transition-transform duration-300"),children:t}),(0,r.jsx)("div",{className:"text-2xl md:text-3xl font-bold text-white mb-1",children:a}),(0,r.jsx)("div",{className:"text-purple-300 text-sm font-medium",children:s})]})},j=e=>{let{insights:t}=e;return t.length?(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 mb-12",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-white mb-8 text-center",children:"\uD83D\uDC8E 팬덤 인사이트"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((e,t)=>(0,r.jsx)(f,{insight:e,index:t},t))})]}):null},f=e=>{let{insight:t,index:a}=e,s=(e=>{switch(e){case"action_needed":return{bg:"bg-gradient-to-r from-red-500/20 to-orange-500/20",border:"border-red-400/50",icon:"\uD83D\uDD25"};case"celebration":return{bg:"bg-gradient-to-r from-green-500/20 to-emerald-500/20",border:"border-green-400/50",icon:"\uD83C\uDF89"};default:return{bg:"bg-gradient-to-r from-blue-500/20 to-indigo-500/20",border:"border-blue-400/50",icon:"\uD83D\uDCA1"}}})(t.type);return(0,r.jsxs)(d.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*a},className:"".concat(s.bg," ").concat(s.border," border-2 rounded-2xl p-6 backdrop-blur hover:scale-105 transition-all duration-300"),children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)("span",{className:"text-3xl mr-3",children:s.icon}),(0,r.jsx)("h3",{className:"text-xl font-bold text-white",children:t.title})]}),(0,r.jsx)("p",{className:"text-gray-200 mb-4",children:t.message}),t.tracks&&t.tracks.length>0&&(0,r.jsxs)("div",{className:"space-y-2",children:[t.tracks.slice(0,3).map((e,t)=>(0,r.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,r.jsx)("span",{className:"text-purple-200",children:e.track}),(0,r.jsxs)("span",{className:"text-white font-semibold",children:[e.chart," #",e.rank]})]},t)),t.tracks.length>3&&(0,r.jsxs)("p",{className:"text-xs text-purple-300",children:["+",t.tracks.length-3,"개 더"]})]})]})},v=e=>{let{tracks:t,artistName:a,selectedTrack:s,onTrackSelect:l}=e;return(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 pb-20",children:[(0,r.jsx)("h2",{className:"text-4xl font-bold text-white mb-12 text-center",children:"\uD83C\uDFB5 전체 차트 순위"}),(0,r.jsx)("div",{className:"space-y-6",children:t.map((e,t)=>(0,r.jsx)(D,{track:e,artistName:a,index:t,isSelected:s===e.name,onSelect:()=>l(e.name)},e.name))})]})},y=e=>{if(!e)return"0";let t=e.replace(/[^0-9]/g,"");if(t){let e=parseInt(t);return e>=1e9?"".concat((e/1e9).toFixed(1),"B"):e>=1e6?"".concat((e/1e6).toFixed(0),"M"):e>=1e3?"".concat((e/1e3).toFixed(0),"K"):e.toString()}return e||"0"},N=e=>{let{chart:t,data:a}=e,s=p[t.toLowerCase()];if(!s)return null;let l=e=>e<=10?"bg-gradient-to-r from-yellow-400 to-yellow-600":e<=30?"bg-gradient-to-r from-gray-300 to-gray-500":e<=50?"bg-gradient-to-r from-orange-400 to-orange-600":"bg-gradient-to-r from-purple-400 to-purple-600",i=a.in_chart&&a.rank?"youtube"===t.toLowerCase()?{text:y(a.views_or_streams),class:"text-white text-xs font-semibold",bgClass:l(a.rank)}:{text:"#".concat(a.rank),class:"text-white text-sm font-bold",bgClass:l(a.rank)}:{text:"OUT",class:"text-gray-400 text-xs",bgClass:"bg-gray-500/10"};return(0,r.jsxs)("div",{className:"".concat(s.bgColor," ").concat(s.borderColor," border rounded-lg px-3 py-2 text-center min-w-[80px] hover:scale-105 transition-all duration-200 group relative"),children:[(0,r.jsxs)("div",{className:"flex items-center justify-center mb-1",children:[(0,r.jsx)("span",{className:"text-lg mr-1",children:s.icon}),(0,r.jsx)("span",{className:"text-xs font-medium text-white",children:s.name})]}),(0,r.jsx)("div",{className:"".concat(i.bgClass," rounded px-2 py-1 mb-1"),children:(0,r.jsx)("span",{className:i.class,children:i.text})}),(0,r.jsx)("div",{className:"text-sm",children:s.emoji}),(0,r.jsx)("div",{className:"hidden group-hover:block absolute z-10 bg-black text-white text-xs rounded px-2 py-1 -top-8 left-1/2 transform -translate-x-1/2 whitespace-nowrap",children:s.description})]})},D=e=>{let{track:t,artistName:a,index:l,isSelected:i,onSelect:o}=e,[n,p]=(0,s.useState)(!1),[h,b]=(0,s.useState)(!1);(0,s.useEffect)(()=>{g()},[]);let g=async()=>{try{let e=await fetch("".concat(m.mb.portfolio(),"/track-status/").concat(encodeURIComponent(a),"/").concat(encodeURIComponent(t.name))),r=await e.json();p(r.in_portfolio)}catch(e){console.error("포트폴리오 상태 확인 오류:",e)}},j=async()=>{try{(await fetch(m.mb.portfolio(),{method:"POST",headers:{"Content-Type":"application/json","X-User-ID":"demo_user"},body:JSON.stringify({artist:a,track:t.name,notes:"".concat(a,"의 ").concat(t.name," - 차트 모니터링")})})).ok&&p(!0)}catch(e){console.error("포트폴리오 추가 오류:",e)}};return(0,r.jsx)(d.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1*l},onClick:o,className:"".concat(i?"bg-white/20 ring-2 ring-purple-400":"bg-white/10"," backdrop-blur-lg rounded-2xl p-6 hover:bg-white/15 transition-all duration-300 group cursor-pointer"),children:(0,r.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,r.jsxs)("div",{className:"relative w-24 h-24 md:w-32 md:h-32 rounded-xl overflow-hidden flex-shrink-0 group-hover:scale-105 transition-transform duration-300",children:[(0,r.jsx)(c.Z,{src:t.album_image,alt:t.name,artistName:a,trackName:t.name,width:128,height:128,className:"w-full h-full object-cover rounded-xl",priority:l<4}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,r.jsx)(u.gmG,{className:"w-6 h-6 text-white"})}),(0,r.jsxs)("div",{className:"absolute top-2 right-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:[t.trend_score,"점"]})]}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl md:text-2xl font-bold text-white mb-1",children:t.name}),(0,r.jsx)("p",{className:"text-purple-300",children:a})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),j()},disabled:n,className:"p-2 rounded-full transition-all duration-300 ".concat(n?"bg-red-500 text-white cursor-default":"bg-white/20 text-white hover:bg-white/30 hover:scale-110"),title:n?"포트폴리오에 담겨있음":"포트폴리오에 담기",children:(0,r.jsx)(u.$0H,{className:"w-4 h-4"})}),(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),b(!h)},className:"p-2 bg-green-500 text-white rounded-full hover:bg-green-600 transition-all duration-300 hover:scale-110",title:"스트리밍 링크",children:(0,r.jsx)(u.CkN,{className:"w-4 h-4"})})]})]}),(0,r.jsxs)("div",{className:"flex space-x-2 overflow-x-auto scrollbar-hide mb-4",children:[(0,r.jsx)(N,{chart:"melon",data:t.charts.melon}),(0,r.jsx)(N,{chart:"genie",data:t.charts.genie}),(0,r.jsx)(N,{chart:"bugs",data:t.charts.bugs}),(0,r.jsx)(N,{chart:"vibe",data:t.charts.vibe}),(0,r.jsx)(N,{chart:"spotify",data:t.charts.spotify}),(0,r.jsx)(N,{chart:"billboard",data:t.charts.billboard}),(0,r.jsx)(N,{chart:"youtube",data:t.charts.youtube})]}),(0,r.jsx)(x.M,{children:h&&(0,r.jsx)(d.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:Object.entries(t.streaming_links).map(e=>{let[t,a]=e;return(0,r.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),className:"p-3 bg-white/10 rounded-lg text-center hover:bg-white/20 transition-colors text-sm",children:(0,r.jsx)("div",{className:"font-semibold text-white capitalize",children:t.replace("_"," ")})},t)})})})]})]})})}}},function(e){e.O(0,[445,415,556,303,720,675,161,888,774,179],function(){return e(e.s=4589)}),_N_E=e.O()}]);