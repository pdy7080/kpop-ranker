(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[577],{8575:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/callback",function(){return r(270)}])},270:function(e,t,r){"use strict";r.r(t),r.d(t,{dynamic:function(){return u},revalidate:function(){return d}});var s=r(5893),n=r(7294),a=r(9008),i=r.n(a),c=r(3161),l=r(6501);t.default=()=>{let[e,t]=(0,n.useState)(null),[a,u]=(0,n.useState)(!1),[d,o]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{u(!0),Promise.resolve().then(r.t.bind(r,1163,23)).then(e=>{let{useRouter:r}=e;t(r())})},[]),(0,n.useEffect)(()=>{a&&e&&e.isReady&&!d&&(async()=>{o(!0);let{token:t,error:r}=e.query;if(r){l.ZP.error("로그인 중 오류가 발생했습니다"),e.push("/");return}if(t&&"string"==typeof t)try{localStorage.setItem("auth_token",t),l.ZP.success("로그인되었습니다!");let r=sessionStorage.getItem("authReturnUrl")||"/portfolio";sessionStorage.removeItem("authReturnUrl"),e.push(r)}catch(t){l.ZP.error("로그인 처리 중 오류가 발생했습니다"),e.push("/")}else e.push("/")})()},[a,e,d]),a)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i(),{children:(0,s.jsx)("title",{children:"로그인 처리 중... - KPOP FANfolio"})}),(0,s.jsx)(c.Z,{children:(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"로그인 처리 중..."}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"잠시만 기다려주세요..."})]})})})]}):(0,s.jsx)(c.Z,{children:(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"로그인 처리 중..."})]})})})};let u="force-dynamic",d=0}},function(e){e.O(0,[445,415,556,303,720,161,888,774,179],function(){return e(e.s=8575)}),_N_E=e.O()}]);