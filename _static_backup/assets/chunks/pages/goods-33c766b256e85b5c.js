(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[507],{8524:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/goods",function(){return t(2951)}])},2951:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return g}});var a=t(5893),l=t(7294),r=t(9008),i=t.n(r),n=t(3161),c=t(3495),o=t(2914),d=t(6501),x=t(5675),m=t.n(x);let h=[{key:"all",name:"전체"},{key:"album",name:"앨범"},{key:"lightstick",name:"응원봉"},{key:"photobook",name:"포토북"},{key:"clothing",name:"의류"},{key:"accessories",name:"액세서리"},{key:"stationery",name:"문구류"},{key:"etc",name:"기타"}];function g(){var e;let[s,t]=(0,l.useState)(""),[r,x]=(0,l.useState)("all"),[g,p]=(0,l.useState)([]),[y,u]=(0,l.useState)([]),[f,j]=(0,l.useState)(!1),[b,N]=(0,l.useState)(new Set);(0,l.useEffect)(()=>{w()},[]);let w=async()=>{try{let e=await fetch("/api/goods/trending");if(e.ok){let s=await e.json();s.success&&u(s.goods||[])}}catch(e){console.error("인기 굿즈 조회 실패:",e)}},v=async()=>{if(!s.trim()){d.Am.error("아티스트명을 입력해주세요.");return}j(!0);try{let t=new URLSearchParams({category:r,display:"20"}),a=await fetch("/api/goods/".concat(encodeURIComponent(s),"?").concat(t));if(a.ok){let s=await a.json();if(s.success){var e;p(s.goods||[]),(null===(e=s.goods)||void 0===e?void 0:e.length)===0?(0,d.Am)("검색 결과가 없습니다. 다른 아티스트를 검색해보세요.",{icon:"ℹ️"}):d.Am.success("".concat(s.goods.length,"개의 굿즈를 찾았습니다!"))}else d.Am.error("굿즈 검색에 실패했습니다.")}}catch(e){console.error("굿즈 검색 오류:",e),d.Am.error("네트워크 오류가 발생했습니다.")}finally{j(!1)}},k=e=>{let s=new Set(b);s.has(e)?(s.delete(e),d.Am.success("관심 굿즈에서 제거했습니다.")):(s.add(e),d.Am.success("관심 굿즈에 추가했습니다.")),N(s)},_=e=>new Intl.NumberFormat("ko-KR").format(e),E=(e,s)=>{window.open(e,"_blank"),d.Am.success("".concat(s," 구매 페이지로 이동합니다."))},P=e=>{let{item:s,showRank:t=!1}=e;return(0,a.jsxs)(c.E.div,{whileHover:{y:-5},className:"glass-morphism rounded-xl overflow-hidden hover:shadow-xl transition-all duration-300",children:[(0,a.jsxs)("div",{className:"relative aspect-square",children:[(0,a.jsx)(m(),{src:s.image,alt:s.name,fill:!0,className:"object-cover",onError:e=>{e.target.src="https://via.placeholder.com/300x300/667eea/ffffff?text=".concat(encodeURIComponent(s.name.slice(0,10)))}}),t&&s.sales_rank&&(0,a.jsxs)("div",{className:"absolute top-2 left-2 bg-gradient-to-r from-orange-500 to-red-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:["#",s.sales_rank]}),s.discount_rate&&s.discount_rate>0&&(0,a.jsxs)("div",{className:"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:[s.discount_rate,"%"]}),!s.in_stock&&(0,a.jsx)("div",{className:"absolute inset-0 bg-gray-900/50 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold text-lg",children:"품절"})}),(0,a.jsx)("button",{onClick:()=>k(s.id),className:"absolute bottom-2 right-2 p-2 rounded-full transition-colors ".concat(b.has(s.id)?"bg-red-500 text-white":"bg-white/80 text-gray-600 hover:bg-red-500 hover:text-white"),children:(0,a.jsx)(o.$0H,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"font-bold text-sm mb-2 line-clamp-2 h-10",children:s.name}),s.mallName&&(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:s.mallName}),(0,a.jsx)("div",{className:"mb-3",children:s.original_price&&s.original_price>s.price?(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:"text-gray-400 line-through text-sm",children:[_(s.original_price),"원"]}),(0,a.jsxs)("div",{className:"text-lg font-bold text-red-500",children:[_(s.price),"원"]})]}):(0,a.jsxs)("div",{className:"text-lg font-bold",children:[_(s.price),"원"]})}),s.description&&(0,a.jsx)("p",{className:"text-xs text-gray-600 mb-3 line-clamp-2",children:s.description}),(0,a.jsxs)(c.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>E(s.shop_link,s.name),disabled:!s.in_stock,className:"w-full py-2 px-4 rounded-lg flex items-center justify-center space-x-2 transition-colors ".concat(s.in_stock?"bg-primary-500 hover:bg-primary-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:[(0,a.jsx)(o.Xfy,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:s.in_stock?"구매하기":"품절"}),s.in_stock&&(0,a.jsx)(o.CkN,{className:"w-3 h-3"})]})]})]})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i(),{children:[(0,a.jsx)("title",{children:"K-POP 굿즈 쇼핑 - KPOP FANfolio"}),(0,a.jsx)("meta",{name:"description",content:"좋아하는 K-POP 아티스트의 공식 굿즈를 찾아보세요. 앨범, 응원봉, 의류 등 다양한 굿즈 정보를 제공합니다."})]}),(0,a.jsxs)(n.Z,{children:[(0,a.jsx)("section",{className:"text-center mb-8",children:(0,a.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[(0,a.jsx)(o.Xfy,{className:"w-8 h-8 text-primary-500"}),(0,a.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold",children:["K-POP ",(0,a.jsx)("span",{className:"gradient-text",children:"굿즈 쇼핑"})]})]}),(0,a.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"좋아하는 아티스트의 공식 굿즈를 찾아보세요"})]})}),(0,a.jsx)("section",{className:"max-w-4xl mx-auto mb-8",children:(0,a.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-morphism rounded-2xl p-6",children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:h.map(e=>(0,a.jsx)("button",{onClick:()=>x(e.key),className:"px-3 py-1 rounded-full text-sm transition-colors ".concat(r===e.key?"bg-primary-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-primary-200"),children:e.name},e.key))}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(o.U41,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,a.jsx)("input",{type:"text",value:s,onChange:e=>t(e.target.value),onKeyPress:e=>{"Enter"===e.key&&v()},placeholder:"아티스트명을 입력하세요 (예: BLACKPINK, BTS, NewJeans)",className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,a.jsx)(c.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:v,disabled:f,className:"px-6 py-3 bg-primary-500 hover:bg-primary-600 disabled:bg-gray-400 text-white rounded-xl transition-colors font-medium",children:f?"검색 중...":"검색"})]})]})}),y.length>0&&(0,a.jsxs)("section",{className:"mb-12",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,a.jsx)(o.QJe,{className:"w-5 h-5 text-yellow-500"}),(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"인기 굿즈"})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:y.map(e=>(0,a.jsx)(P,{item:e,showRank:!0},e.id))})]}),g.length>0&&(0,a.jsxs)("section",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold",children:['"',s,'" 검색 결과 (',g.length,"개)"]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["카테고리: ",null===(e=h.find(e=>e.key===r))||void 0===e?void 0:e.name]})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:g.map(e=>(0,a.jsx)(P,{item:e},e.id))})]}),!f&&0===g.length&&s&&(0,a.jsxs)(c.E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[(0,a.jsx)(o.Xfy,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-500 mb-2",children:"검색 결과가 없습니다"}),(0,a.jsx)("p",{className:"text-gray-400",children:"다른 아티스트명으로 검색해보세요"})]}),!s&&0===y.length&&(0,a.jsxs)(c.E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[(0,a.jsx)(o.Xfy,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-500 mb-2",children:"K-POP 굿즈를 검색해보세요"}),(0,a.jsx)("p",{className:"text-gray-400",children:"좋아하는 아티스트의 공식 굿즈, 앨범, 응원봉 등을 찾을 수 있습니다"})]})]})]})}}},function(e){e.O(0,[445,415,556,303,720,675,161,888,774,179],function(){return e(e.s=8524)}),_N_E=e.O()}]);